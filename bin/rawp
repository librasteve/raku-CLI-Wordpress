#!/usr/bin/env raku

use lib '../lib';
use CLI::Wordpress;

#enum Command <launch renew up wp down ps connect terminate>;

sub MAIN(
    Str    $cmd,                           #= One of <launch renew up wp down ps connect terminate>
    Str    $wp?,                           #= A valid wp cli cmd (viz. https://developer.wordpress.org/cli/commands/)
) {
    say $cmd;

    given $cmd {
        when 'launch' {
            Instance.new.launch
        }
        when 'renew' {
            Instance.new.renew
        }
        when 'up' {
            Instance.new.up
        }
        when 'wp' {
            say 'please provide a valid wpcli cmd string' without $wp;
            Instance.new.wp(:$wp)
        }
        when 'down' {
            Instance.new.down
        }
        when 'ps' {
            Instance.new.ps
        }
        when 'connect' {
            Instance.new.connect
        }
        when 'terminate' {
            Instance.new.terminate
        }
        default {
            say 'sorry, I do not understand...';

        }
    }
}


